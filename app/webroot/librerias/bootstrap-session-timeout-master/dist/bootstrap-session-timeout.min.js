"use strict";(function(e){jQuery.sessionTimeout=function(t){function o(){if(!s){e.ajax({type:r.ajaxType,url:r.keepAliveUrl,data:r.ajaxData});s=true;setTimeout(function(){s=false},r.keepAliveInterval)}}function u(){clearTimeout(i);if(r.keepAlive){o()}i=setTimeout(function(){if(typeof r.onWarn!=="function"){e("#sessionTimeout-dialog").modal("show")}else{r.onWarn("warn")}a()},r.warnAfter)}function a(){clearTimeout(i);i=setTimeout(function(){if(typeof r.onRedir!=="function"){a("start");window.location=r.redirUrl}else{r.onRedir()}},r.redirAfter-r.warnAfter)}var n={title:"Your Session is About to Expire!",message:"Your session is about to expire.",logoutButton:"Logout",keepAliveButton:"Stay Connected",keepAliveUrl:"/keep-alive",ajaxType:"POST",ajaxData:"",redirUrl:"/timed-out",logoutUrl:"/log-out",warnAfter:9e5,redirAfter:12e5,keepAliveInterval:5e3,keepAlive:true,ignoreUserActivity:false,onWarn:false,onRedir:false};var r=n,i;if(t){r=e.extend(n,t)}if(r.warnAfter>=r.redirAfter){if(typeof console!=="undefined"||typeof console.error!=="undefined"){console.error('Bootstrap-session-timeout plugin is miss-configured. Option "redirAfter" must be equal or greater than "warnAfter".')}return false}if(typeof r.onWarn!=="function"){e("body").append('<div class="modal fade" id="sessionTimeout-dialog">               <div class="modal-dialog">                 <div class="modal-content">                   <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                     <h4 class="modal-title">'+r.title+'</h4>                   </div>                   <div class="modal-body">'+r.message+'</div>                   <div class="modal-footer">                     <button id="sessionTimeout-dialog-logout" type="button" class="btn btn-default">'+r.logoutButton+'</button>                     <button id="sessionTimeout-dialog-keepalive" type="button" class="btn btn-primary" data-dismiss="modal">'+r.keepAliveButton+"</button>                   </div>                 </div>               </div>              </div>");e("#sessionTimeout-dialog-logout").on("click",function(){window.location=r.logoutUrl});e("#sessionTimeout-dialog").on("hide.bs.modal",function(){u()})}if(!r.ignoreUserActivity){e(document).on("keyup mouseup mousemove touchend touchmove",function(){u()})}var s=false;u()}})(jQuery)
